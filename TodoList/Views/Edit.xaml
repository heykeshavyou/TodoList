<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="TodoList.Views.Edit"
             xmlns:VM="clr-namespace:TodoList.ViewModels"
             x:DataType="VM:EditViewModel"
             NavigationPage.HasNavigationBar="False"
             Background="White" 
             xmlns:CC="clr-namespace:TodoList.CustomControl"             
             Title="Edit">
    <Grid>
        <ActivityIndicator IsVisible="{Binding IsLoading}" WidthRequest="50" Color="#24A19C" IsRunning="{Binding IsLoading}" />

        <Grid RowDefinitions="auto,*" IsVisible="{Binding IsShow}" >
        <StackLayout Grid.Row="0" >
            <Label
            TextColor="Black" 
            Text="Edit Task" 
            FontSize="24" 
            FontAttributes="Bold" 
            Margin="0,20,0,10" 
            HorizontalOptions="Center"/>
            <CC:CustomEntry 
            LabelText="Title" 
            EntryText="{Binding Title}"/>
            <CC:CustomEntry 
            LabelText="Description" 
            EntryText="{Binding Description}"/>
            <Label 
            Text="Priority" 
            TextColor="Black" 
            FontSize="20"
            FontAttributes="Bold" 
            Margin="10,5"/>
            <Border Stroke="#24A19C"  StrokeShape="RoundRectangle 10" Margin="10,5">
                <Picker 
                Margin="5,0"
                TextColor="Black"
                Title="Select Priority"
                    TitleColor="Gray"
                SelectedItem="{Binding PriorityText, Mode=TwoWay}"
                ItemsSource="{Binding PriorityData}">
                </Picker>
            </Border>
            <Label 
            Text=" Date Time" 
            TextColor="Black" 
            FontSize="20"
            FontAttributes="Bold" 
            Margin="10,5"/>

            <Grid ColumnDefinitions="*,*">
                <Border Stroke="#24A19C"    Grid.Column="0"  StrokeShape="RoundRectangle 10" Margin="10,5">
                    <DatePicker               
                    Margin="5,0"
                    TextColor="Black"
                    Date="{Binding DueDate, Mode=TwoWay}"
                    />
                </Border>
                <Border Stroke="#24A19C" Grid.Column="1"  StrokeShape="RoundRectangle 10" Margin="10,5">
                    <TimePicker 
                    Margin="5,0"                    
                    TextColor="Black"
                    Time="{Binding DueTime, Mode=TwoWay}"
                    />
                </Border>
            </Grid>

        </StackLayout>
        <StackLayout Grid.Row="1" Padding="0,0,0,10" VerticalOptions="End">
            <Grid ColumnDefinitions="*,*">
                <Border Stroke="#24A19C" Grid.Column="0"  StrokeShape="RoundRectangle 10" Margin="10,5">
                    <Button Background="Transparent" Command="{Binding Cancel}" Text="Cancel" FontAttributes="Bold"/>
                </Border>
                <Border  Stroke="#24A19C" Grid.Column="1"  StrokeShape="RoundRectangle 10" Margin="10,5">
                    <Button  Text="Save" FontAttributes="Bold" Command="{Binding UpdateCommand}"/>
                </Border>
            </Grid>

        </StackLayout>

    </Grid>
    </Grid>
 
</ContentPage>